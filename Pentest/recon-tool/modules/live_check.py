import os
import asyncio
from modules.utils import run_cmd
from rich.console import Console

console = Console()

async def run_live_check(subdomains_file, output_dir):
    console.rule("[bold blue]Live Subdomain Checking[/bold blue]")
    alive_file = os.path.join(output_dir, "alive_subdomains.txt")
    cmd = f"httpx -l {subdomains_file} -silent -o {alive_file}"
    await run_cmd(cmd)
    console.print(f"[green]Live subdomains saved to {alive_file}[/green]")
    return alive_file
