import asyncio
from modules.utils import run_cmd
from rich.console import Console

console = Console()

async def run_content_discovery(alive_file, output_dir):
    console.rule("[bold blue]Content Discovery[/bold blue]")
    wayback_file = os.path.join(output_dir, "waybackurls.txt")
    gau_file = os.path.join(output_dir, "gau.txt")

    await run_cmd(f"waybackurls {alive_file} > {wayback_file}")
    await run_cmd(f"gau --input-file {alive_file} --output {gau_file}")

    console.print(f"[green]Wayback URLs saved to {wayback_file}[/green]")
    console.print(f"[green]GAU URLs saved to {gau_file}[/green]")
